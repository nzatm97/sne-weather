<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Southern New England Weather</title>
    <meta name="description" content="Southern New England Weather dashboard with radar, alerts, meteogram, and layered map insights." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@500;600;700&family=JetBrains+Mono:wght@500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="site-layout">
      <aside class="sidebar card">
        <h2>Southern New England Weather</h2>
        <nav>
          <a class="nav-link active" href="index.html">Home</a>
          <a class="nav-link" href="about.html">About Us</a>
          <a class="nav-link" href="contact.html">Contact</a>
          <a class="nav-link" href="social.html">Social Media</a>
        </nav>
      </aside>

      <div class="content-wrap">
        <div class="quick-tools">
          <div class="search-wrap">
            <input id="locationSearch" type="search" placeholder="Search city, state (e.g., Boston, MA)" aria-label="Location search" />
            <ul id="searchResults" class="search-results" aria-label="Location suggestions"></ul>
          </div>
          <button id="myLocationBtn" class="btn btn-secondary">My location</button>
        </div>

        <p id="status" class="status">Initializing dashboard…</p>

        <section class="hero-photo card"></section>

        <main class="grid-layout">
          <section class="map-panel card">
            <div class="map-header">
              <h2 id="currentPlace">Providence, RI</h2>
              <span class="badge">Radar + Alerts + Layers</span>
            </div>

            <div class="layer-controls">
              <span class="chip">Layers</span>
              <label><input id="layerRadar" type="checkbox" checked /> Radar</label>
              <label><input id="layerTemp" type="checkbox" /> Temp</label>
              <label><input id="layerWind" type="checkbox" /> Wind</label>
            </div>

            <div id="map" class="map"></div>

            <div class="controls-grid">
              <div class="radar-controls">
                <h3>Radar Timeline</h3>
                <div class="inline-controls">
                  <button id="radarPrevBtn" class="btn btn-ghost" aria-label="Previous radar frame">Prev</button>
                  <button id="radarPlayBtn" class="btn">Play</button>
                  <button id="radarNextBtn" class="btn btn-ghost" aria-label="Next radar frame">Next</button>
                  <button id="radarLatestBtn" class="btn btn-secondary">Latest</button>
                </div>
                <div class="inline-controls">
                  <input id="radarFrameRange" type="range" min="0" max="0" value="0" />
                </div>
                <div class="inline-controls">
                  <label for="radarSpeed">Speed</label>
                  <select id="radarSpeed">
                    <option value="0.5">0.5x</option>
                    <option value="1" selected>1x</option>
                    <option value="1.5">1.5x</option>
                    <option value="2">2x</option>
                  </select>
                  <label for="radarOpacity">Opacity</label>
                  <input id="radarOpacity" type="range" min="0.2" max="1" value="0.72" step="0.05" />
                  <span id="radarTimestamp" class="muted value-mono">--:--</span>
                </div>
                <div class="inline-controls">
                  <span id="radarLoadState" class="muted">Loading radar…</span>
                </div>
              </div>
              <div class="legend">
                <h3>Reflectivity</h3>
                <div class="legend-bar"></div>
                <div class="legend-scale"><span>Light</span><span>Moderate</span><span>Heavy</span></div>
              </div>
            </div>
          </section>

          <aside class="side-panel">
            <section class="card current-card">
              <h3>Current Conditions</h3>
              <div class="current-grid">
                <div><span class="metric">Temp</span><strong id="tempNow">--</strong></div>
                <div><span class="metric">Feels</span><strong id="feelsNow">--</strong></div>
                <div><span class="metric">Wind</span><strong id="windNow">--</strong></div>
                <div><span class="metric">Summary</span><strong id="summaryNow">--</strong></div>
              </div>
            </section>

            <section class="card">
              <div class="section-head">
                <h3>NWS Alerts</h3>
                <label><input id="alertsToggle" type="checkbox" checked /> Show polygons</label>
              </div>
              <ul id="alertsList" class="alerts-list"></ul>
            </section>

            <section class="card">
              <div class="section-head">
                <h3>Meteogram</h3>
                <select id="meteogramRange">
                  <option value="24">24h</option>
                  <option value="48" selected>48h</option>
                  <option value="72">72h</option>
                </select>
              </div>
              <div class="meteogram-wrap"><canvas id="meteogram"></canvas></div>
            </section>

            <section class="card">
              <h3>5-Day Snapshot</h3>
              <div id="dailyGrid" class="daily-grid"></div>
            </section>

            <section class="card">
              <h3>Recent Searches</h3>
              <div id="recentSearches" class="pill-row"></div>
            </section>
          </aside>
        </main>
      </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
